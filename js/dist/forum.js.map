{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@huseyinfiliz/custom-profile-page/webpack/bootstrap","webpack://@huseyinfiliz/custom-profile-page/webpack/runtime/compat get default export","webpack://@huseyinfiliz/custom-profile-page/webpack/runtime/define property getters","webpack://@huseyinfiliz/custom-profile-page/webpack/runtime/hasOwnProperty shorthand","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/app']\"","webpack://@huseyinfiliz/custom-profile-page/./src/common/index.ts","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['forum/app']\"","webpack://@huseyinfiliz/custom-profile-page/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@huseyinfiliz/custom-profile-page/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/Model']\"","webpack://@huseyinfiliz/custom-profile-page/./src/forum/models/CustomProfilePage.ts","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/extend']\"","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['forum/components/UserPage']\"","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/components/Button']\"","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@huseyinfiliz/custom-profile-page/./src/forum/components/EditCustomPageModal.ts","webpack://@huseyinfiliz/custom-profile-page/./src/forum/pages/CustomProfilePage.tsx","webpack://@huseyinfiliz/custom-profile-page/./src/forum/index.ts","webpack://@huseyinfiliz/custom-profile-page/./src/forum/addUserProfilePage.tsx"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/app'];","import app from 'flarum/common/app';\n\napp.initializers.add('huseyinfiliz/custom-profile-page', () => {\n  // Common initialization - currently empty\n  // Models are registered in forum/admin initializers\n});","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class CustomProfilePage extends Model {\n  content = Model.attribute<string>('content');\n  updatedAt = Model.attribute('updatedAt', Model.transformDate);\n  \n  user = Model.hasOne('user');\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default class EditCustomPageModal extends Modal {\n  contentText!: Stream<string>;\n  loading: boolean = false;\n  textareaElement: HTMLTextAreaElement | null = null;\n\n  oninit(vnode: any) {\n    super.oninit(vnode);\n    \n    // ✅ KEY LOGIC: Eğer customPage yoksa (yeni sayfa) ve\n    // admin'den template varsa, template'i yükle\n    let initialContent = '';\n    \n    if (this.attrs.customPage?.content()) {\n      // Mevcut sayfa varsa, kendi içeriğini kullan\n      initialContent = this.attrs.customPage.content();\n    } else {\n      // Yeni sayfa → admin template'ini yükle\n      const template = app.forum.attribute<string>('huseyinfiliz-custom-profile-page.default_template') || '';\n      initialContent = template;\n    }\n    \n    this.contentText = Stream(initialContent);\n  }\n\n  className() {\n    return 'EditCustomPageModal Modal--large';\n  }\n\n  title() {\n    return app.translator.trans('huseyinfiliz-custom-profile-page.forum.edit_modal.title');\n  }\n\n  content() {\n    const format = app.forum.attribute<string>('huseyinfiliz-custom-profile-page.content_format') || 'markdown';\n    const isMarkdown = format === 'markdown';\n\n    return m('.Modal-body', [\n      m('.Form', [\n        // Format bilgisi\n        this.renderFormatInfo(format),\n        \n        // Markdown toolbar\n        isMarkdown && this.renderMarkdownToolbar(),\n        \n        m('.Form-group', [\n          this.renderTextarea()\n        ]),\n\n        m('.Form-group.EditCustomPageModal-actions', [\n          Button.component(\n            {\n              type: 'submit',\n              className: 'Button Button--primary',\n              loading: this.loading,\n              disabled: this.loading,\n              onclick: this.onsubmit.bind(this),\n            },\n            app.translator.trans('huseyinfiliz-custom-profile-page.forum.edit_modal.submit_button')\n          ),\n          ' ',\n          Button.component(\n            {\n              className: 'Button',\n              disabled: this.loading,\n              onclick: () => this.hide(),\n            },\n            app.translator.trans('huseyinfiliz-custom-profile-page.forum.profile_tab.cancel_button')\n          )\n        ])\n      ])\n    ]);\n  }\n\n  renderFormatInfo(format: string) {\n    let icon = '';\n    let text = '';\n    \n    if (format === 'markdown') {\n      icon = 'fab fa-markdown';\n      text = 'You can use Markdown formatting: **bold**, *italic*, [link](url), `code`, etc.';\n    } else if (format === 'html') {\n      const allowedTags = app.forum.attribute<string>('huseyinfiliz-custom-profile-page.allowed_html_tags') || '';\n      icon = 'fab fa-html5';\n      text = `You can use the following HTML tags: ${allowedTags}`;\n    } else {\n      icon = 'fas fa-align-left';\n      text = 'Plain text only. No HTML or Markdown formatting allowed.';\n    }\n\n    return m('.Alert.EditCustomPageModal-formatInfo', [\n      m('i.icon', { className: icon }),\n      m('span', text)\n    ]);\n  }\n\n  renderMarkdownToolbar() {\n    return m('.MarkdownToolbar.ButtonGroup', [\n      // Header\n      this.toolbarButton('Heading', 'fas fa-heading', '\\n## ', ''),\n      \n      // Bold\n      this.toolbarButton('Bold', 'fas fa-bold', '**', '**'),\n      \n      // Italic\n      this.toolbarButton('Italic', 'fas fa-italic', '*', '*'),\n      \n      // Strikethrough\n      this.toolbarButton('Strikethrough', 'fas fa-strikethrough', '~~', '~~'),\n      \n      // Quote\n      this.toolbarButton('Quote', 'fas fa-quote-left', '\\n> ', ''),\n      \n      // Spoiler\n      this.toolbarButton('Spoiler', 'fas fa-eye-slash', '>!', '!<'),\n      \n      // Code\n      this.toolbarButton('Code', 'fas fa-code', '`', '`'),\n      \n      // Link\n      this.toolbarButton('Link', 'fas fa-link', '[', '](url)'),\n      \n      // Image\n      this.toolbarButton('Image', 'fas fa-image', '![', '](image-url)'),\n      \n      // Bulleted List\n      this.toolbarButton('Bulleted List', 'fas fa-list-ul', '\\n- ', ''),\n      \n      // Numbered List\n      this.toolbarButton('Numbered List', 'fas fa-list-ol', '\\n1. ', ''),\n      \n      // Mention\n      this.toolbarButton('Mention', 'fas fa-at', '@', ''),\n    ]);\n  }\n\n  toolbarButton(name: string, icon: string, before: string, after: string) {\n    return m('button.Button.Button--icon.Button--link', {\n      type: 'button',\n      title: name,\n      onclick: (e: Event) => {\n        e.preventDefault();\n        this.insertMarkdown(before, after);\n      },\n    }, m('i', { className: icon }));\n  }\n\n  insertMarkdown(before: string, after: string) {\n    if (!this.textareaElement) return;\n\n    const textarea = this.textareaElement;\n    const start = textarea.selectionStart;\n    const end = textarea.selectionEnd;\n    const text = this.contentText();\n    const selectedText = text.substring(start, end);\n\n    const newText = text.substring(0, start) + before + selectedText + after + text.substring(end);\n    \n    this.contentText(newText);\n    \n    setTimeout(() => {\n      const newCursorPos = start + before.length + selectedText.length;\n      textarea.focus();\n      textarea.setSelectionRange(newCursorPos, newCursorPos);\n      m.redraw();\n    }, 0);\n  }\n\n  renderTextarea() {\n    return m('textarea.FormControl', {\n      rows: 20,\n      value: this.contentText(),\n      oninput: (e: any) => {\n        this.contentText(e.target.value);\n      },\n      oncreate: (vnode: any) => {\n        this.textareaElement = vnode.dom;\n      },\n      placeholder: app.translator.trans('huseyinfiliz-custom-profile-page.forum.edit_modal.content_placeholder'),\n      disabled: this.loading,\n    });\n  }\n\n  onsubmit(e?: Event) {\n    if (e) e.preventDefault();\n    if (this.loading) return;\n\n    this.loading = true;\n\n    const userId = this.attrs.user.id();\n    const data = {\n      type: 'custom-profile-pages',\n      attributes: {\n        content: this.contentText(),\n      },\n    };\n\n    const method = this.attrs.customPage ? 'PATCH' : 'POST';\n    const url = `${app.forum.attribute('apiUrl')}/users/${userId}/custom-page`;\n\n    app.request({\n      method,\n      url,\n      body: { data },\n    })\n      .then((response) => {\n        this.loading = false;\n        \n        if (response.data) {\n          const page = app.store.pushPayload(response);\n          if (this.attrs.onSave) {\n            this.attrs.onSave(page);\n          }\n        }\n        \n        this.hide();\n        m.redraw();\n      })\n      .catch(() => {\n        this.loading = false;\n        \n        app.alerts.show(\n          { type: 'error' },\n          app.translator.trans('huseyinfiliz-custom-profile-page.forum.edit_modal.error')\n        );\n        \n        m.redraw();\n      });\n  }\n}","import UserPage from 'flarum/forum/components/UserPage';\nimport app from 'flarum/forum/app';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Button from 'flarum/common/components/Button';\nimport EditCustomPageModal from '../components/EditCustomPageModal';\n\nexport default class CustomProfilePage extends UserPage {\n    loading: boolean = true;\n    error: string | null = null;\n    customPage: any = null;\n    permissionDenied: boolean = false;\n\n    oninit(vnode) {\n        super.oninit(vnode);\n\n        this.loading = true;\n        this.error = null;\n        this.customPage = null;\n        this.permissionDenied = false;\n\n        this.loadUser(m.route.param('username'));\n    }\n\n    show(user) {\n        super.show(user);\n        this.loadCustomPage();\n    }\n\n    oncreate(vnode) {\n        super.oncreate(vnode);\n        this.processMediaLinks();\n    }\n\n    onupdate(vnode) {\n        super.onupdate(vnode);\n        this.processMediaLinks();\n    }\n\n    // ✅ YouTube ve diğer media linklerini iframe'e çevir\n    processMediaLinks() {\n        // ✅ Admin ayarını kontrol et\n        const enableMediaEmbeds = app.forum.attribute('huseyinfiliz-custom-profile-page.enable_media_embeds');\n        \n        if (!enableMediaEmbeds) {\n            return; // Embed kapalıysa hiçbir şey yapma\n        }\n\n        setTimeout(() => {\n            const content = this.element?.querySelector('.CustomProfilePage-content');\n            if (!content) return;\n\n            // YouTube linklerini bul ve iframe'e çevir\n            const links = content.querySelectorAll('a[href*=\"youtube.com\"], a[href*=\"youtu.be\"]');\n            \n            links.forEach((link) => {\n                // Zaten işlenmiş mi kontrol et\n                if (link.classList.contains('media-processed')) return;\n                \n                const url = link.getAttribute('href');\n                if (!url) return;\n\n                // YouTube video ID'sini çıkar\n                let videoId = null;\n                \n                // youtube.com/watch?v=VIDEO_ID\n                const match1 = url.match(/[?&]v=([^&]+)/);\n                if (match1) videoId = match1[1];\n                \n                // youtu.be/VIDEO_ID\n                const match2 = url.match(/youtu\\.be\\/([^?]+)/);\n                if (match2) videoId = match2[1];\n\n                if (videoId) {\n                    // Iframe oluştur\n                    const iframe = document.createElement('iframe');\n                    iframe.src = `https://www.youtube.com/embed/${videoId}`;\n                    iframe.width = '560';\n                    iframe.height = '315';\n                    iframe.frameBorder = '0';\n                    iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';\n                    iframe.allowFullscreen = true;\n                    iframe.style.maxWidth = '100%';\n                    iframe.style.marginTop = '10px';\n                    iframe.style.marginBottom = '10px';\n\n                    // Link'in parent'ını bul ve iframe'i ekle\n                    const parent = link.parentElement;\n                    if (parent) {\n                        parent.appendChild(iframe);\n                        link.classList.add('media-processed');\n                        link.style.display = 'none'; // Link'i gizle\n                    }\n                }\n            });\n        }, 100);\n    }\n\n    content() {\n        if (this.loading) {\n            return <LoadingIndicator />;\n        }\n\n        if (this.permissionDenied) {\n            return (\n                <div className=\"CustomProfilePage\">\n                    <div className=\"Placeholder\">\n                        <p>{app.translator.trans('huseyinfiliz-custom-profile-page.forum.errors.permission_denied')}</p>\n                    </div>\n                </div>\n            );\n        }\n\n        if (this.error) {\n            return (\n                <div className=\"CustomProfilePage\">\n                    <div className=\"Placeholder\">\n                        <p>{this.error}</p>\n                    </div>\n                </div>\n            );\n        }\n\n        const currentUser = app.session.user;\n        \n        if (!currentUser) {\n            const contentHtml = this.customPage?.attribute('contentHtml') || '';\n            \n            return (\n                <div className=\"CustomProfilePage\">\n                    <div className=\"CustomProfilePage-content Post-body\">\n                        {contentHtml ? m.trust(contentHtml) : this.renderEmpty(false)}\n                    </div>\n                </div>\n            );\n        }\n\n        const isModerator = app.forum.attribute('canModerateCustomPage');\n        const isOwnPage = currentUser.id() === this.user?.id();\n        const canEditOwn = app.forum.attribute('canEditOwnCustomPage');\n        \n        const canEdit = isModerator || (isOwnPage && canEditOwn);\n\n        const contentHtml = this.customPage?.attribute('contentHtml') || '';\n\n        return (\n            <div className=\"CustomProfilePage\">\n                <div className=\"CustomProfilePage-header\">\n                    {canEdit && (\n                        <Button\n                            className=\"Button Button--primary\"\n                            icon=\"fas fa-edit\"\n                            onclick={() => {\n                                app.modal.show(EditCustomPageModal, {\n                                    user: this.user,\n                                    customPage: this.customPage,\n                                    onSave: (page) => {\n                                        this.customPage = page;\n                                        m.redraw();\n                                    }\n                                });\n                            }}\n                        >\n                            {app.translator.trans('huseyinfiliz-custom-profile-page.forum.profile_tab.edit_button')}\n                        </Button>\n                    )}\n                </div>\n                <div className=\"CustomProfilePage-content Post-body\">\n                    {contentHtml ? m.trust(contentHtml) : this.renderEmpty(canEdit)}\n                </div>\n            </div>\n        );\n    }\n\n    loadCustomPage() {\n        if (!this.user) {\n            setTimeout(() => this.loadCustomPage(), 100);\n            return;\n        }\n\n        this.loading = true;\n        this.error = null;\n        this.permissionDenied = false;\n        this.customPage = null;\n\n        app.request({\n            method: 'GET',\n            url: app.forum.attribute('apiUrl') + '/users/' + this.user.id() + '/custom-page',\n        })\n        .then((response) => {\n            if (response.data) {\n                this.customPage = app.store.pushPayload(response);\n            }\n        })\n        .catch((error) => {\n            if (error.status === 403) {\n                this.permissionDenied = true;\n            } else if (error.status === 404) {\n                this.customPage = null;\n            } else {\n                this.error = app.translator.trans('huseyinfiliz-custom-profile-page.forum.errors.load_failed');\n            }\n        })\n        .finally(() => {\n            this.loading = false;\n            m.redraw();\n        });\n    }\n\n    renderEmpty(canEdit) {\n        return (\n            <div className=\"Placeholder\">\n                <p>\n                    {canEdit \n                        ? app.translator.trans('huseyinfiliz-custom-profile-page.forum.profile_tab.empty_own')\n                        : app.translator.trans('huseyinfiliz-custom-profile-page.forum.profile_tab.empty_other')\n                    }\n                </p>\n            </div>\n        );\n    }\n}","import app from 'flarum/forum/app';\nimport CustomProfilePage from './models/CustomProfilePage';\nimport addUserProfilePage from './addUserProfilePage';\n\napp.initializers.add('huseyinfiliz/custom-profile-page', () => {\n  console.log('[huseyinfiliz/custom-profile-page] Custom Profile Page extension enabled');\n  \n  // Model'i kaydet\n  app.store.models['custom-profile-pages'] = CustomProfilePage;\n\n  // User profile page ekle\n  addUserProfilePage();\n});","import { extend } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\nimport UserPage from 'flarum/forum/components/UserPage';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport CustomProfilePageComponent from './pages/CustomProfilePage';\n\nexport default function addUserProfilePage() {\n  // Route kaydet - CLOSURE içinde dinamik olarak slug'ı al\n  app.routes['user.customPage'] = {\n    path: '/u/:username/:slug',\n    component: CustomProfilePageComponent,\n    resolverClass: class {\n      onmatch(args: any) {\n        // URL'den slug parametresini al veya varsayılanı kullan\n        const urlSlug = app.forum?.attribute('huseyinfiliz-custom-profile-page.url_slug') || 'customPage';\n        \n        // Eğer URL'deki slug bizim slug'ımız değilse, bu route'u reddet\n        if (args.slug !== urlSlug) {\n          return;\n        }\n        \n        return CustomProfilePageComponent;\n      }\n    }\n  };\n\n  // Navigation ekle\n  extend(UserPage.prototype, 'navItems', function (items) {\n    const user = this.user;\n    if (!user) return;\n\n    // ✅ Permission kontrolü ekle\n    const canView = app.forum?.attribute('canViewCustomPage');\n    const canEdit = app.session.user?.id() === user.id() && \n                   app.forum?.attribute('canEditOwnCustomPage');\n\n    // Eğer görüntüleme izni yoksa ve kendi sayfası da değilse tab'ı gösterme\n    if (!canView && !canEdit) {\n      return;\n    }\n\n    // Dinamik olarak her çağrıda slug'ı al\n    const urlSlug = app.forum?.attribute('huseyinfiliz-custom-profile-page.url_slug') || 'customPage';\n    const tabTitle = app.forum?.attribute('huseyinfiliz-custom-profile-page.tab_title') || 'Custom Page';\n    const tabIcon = app.forum?.attribute('huseyinfiliz-custom-profile-page.tab_icon') || 'fas fa-file-alt';\n\n    items.add(\n      'customPageLink',\n      LinkButton.component(\n        {\n          href: `/u/${user.slug()}/${urlSlug}`,\n          name: 'custompage',\n          icon: tabIcon,\n        },\n        tabTitle\n      ),\n      85\n    );\n  });\n}"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","app","add","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","CustomProfilePage","_Model","_this","_len","arguments","length","args","Array","_key","apply","concat","content","Model","updatedAt","user","EditCustomPageModal","_Modal","contentText","loading","textareaElement","_proto","oninit","vnode","_this$attrs$customPag","initialContent","this","attrs","customPage","attribute","Stream","className","title","trans","_this2","format","isMarkdown","m","renderFormatInfo","renderMarkdownToolbar","renderTextarea","Button","type","disabled","onclick","onsubmit","hide","icon","text","toolbarButton","name","before","after","_this3","preventDefault","insertMarkdown","textarea","start","selectionStart","end","selectionEnd","selectedText","substring","newText","setTimeout","newCursorPos","focus","setSelectionRange","redraw","_this4","rows","value","oninput","target","oncreate","dom","placeholder","_this5","userId","id","data","attributes","method","url","body","then","response","page","pushPayload","onSave","show","Modal","_UserPage","error","permissionDenied","loadUser","route","param","loadCustomPage","processMediaLinks","onupdate","_this2$element","element","querySelector","querySelectorAll","forEach","link","classList","contains","getAttribute","videoId","match1","match","match2","iframe","document","createElement","src","width","height","frameBorder","allow","allowFullscreen","style","maxWidth","marginTop","marginBottom","parent","parentElement","appendChild","display","_this$user","_this$customPage2","LoadingIndicator","currentUser","_this$customPage","contentHtml","trust","renderEmpty","isModerator","isOwnPage","canEditOwn","canEdit","status","UserPage","console","log","models","path","component","CustomProfilePageComponent","resolverClass","onmatch","_app$forum","urlSlug","slug","extend","items","_app$forum2","_app$session$user","_app$forum3","_app$forum4","_app$forum5","_app$forum6","canView","tabTitle","tabIcon","LinkButton","href"],"sourceRoot":""}