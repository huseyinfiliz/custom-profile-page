{"version":3,"file":"forum.js","mappings":"MACA,IAAIA,EAAsB,CCA1BA,EAAyBC,IACxB,IAAIC,EAASD,GAAUA,EAAOE,WAC7B,IAAOF,EAAiB,QACxB,IAAM,EAEP,OADAD,EAAoBI,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,GCLRF,EAAwB,CAACM,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXP,EAAoBS,EAAEF,EAAYC,KAASR,EAAoBS,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3ER,EAAwB,CAACc,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,I,mBCAlF,MAAM,EAA+BI,OAAOC,KAAKC,OAAO,c,MCExDC,GAAAA,aAAiBC,IAAI,mCAAoC,WAEvD,GCJF,MAAM,EAA+BJ,OAAOC,KAAKC,OAAO,a,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,iBCAlD,EAA+BF,OAAOC,KAAKC,OAAO,6B,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,gC,aCAxD,SAASG,EAAgBC,EAAGC,GAC1B,OAAOF,EAAkBd,OAAOiB,eAAiBjB,OAAOiB,eAAeC,OAAS,SAAUH,EAAGC,GAC3F,OAAOD,EAAEI,UAAYH,EAAGD,CAC1B,EAAGD,EAAgBC,EAAGC,EACxB,CCHA,SAASI,EAAeL,EAAGhB,GACzBgB,EAAET,UAAYN,OAAOqB,OAAOtB,EAAEO,WAAYS,EAAET,UAAUgB,YAAcP,EAAGE,EAAeF,EAAGhB,EAC3F,CCHA,MAAM,EAA+BU,OAAOC,KAAKC,OAAO,gB,aCEnCY,EAAiB,SAAAC,GAAA,SAAAD,IAAA,QAAAE,EAAAC,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAIT,OAJSN,EAAAD,EAAAhB,KAAAwB,MAAAR,EAAA,OAAAS,OAAAJ,KAAA,MACpCK,QAAUC,IAAAA,UAAwB,WAAUV,EAC5CW,UAAYD,IAAAA,UAAgB,YAAaA,IAAAA,eAAoBV,EAE7DY,KAAOF,IAAAA,OAAa,QAAOV,CAAA,QAAAL,EAAAG,EAAAC,GAAAD,CAAA,CAJS,CAASY,KCF/C,MAAM,EAA+B1B,OAAOC,KAAKC,OAAO,oB,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,sC,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,4B,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,2B,ICYnC2B,EAAmB,SAAAC,GAAA,SAAAD,IAAA,QAAAb,EAAAC,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAEd,OAFcN,EAAAc,EAAA/B,KAAAwB,MAAAO,EAAA,OAAAN,OAAAJ,KAAA,MACtCK,QAAkB,GAAET,EACpBe,SAAmB,EAAKf,CAAA,CAAAL,EAAAkB,EAAAC,GAAA,IAAAE,EAAAH,EAAAhC,UA2EvB,OA3EuBmC,EAExBC,OAAA,SAAOC,GAAY,IAAAC,EACjBL,EAAAjC,UAAMoC,OAAMlC,KAAC,KAAAmC,GACbE,KAAKX,SAA+B,OAArBU,EAAAC,KAAKC,MAAMC,iBAAU,EAArBH,EAAuBV,YAAa,EACrD,EAACO,EAEDO,UAAA,WACE,MAAO,kCACT,EAACP,EAEDQ,MAAA,WACE,OAAOrC,IAAAA,WAAesC,MAAM,0DAC9B,EAACT,EAEDP,QAAA,WAAU,IAAAiB,EAAA,KACR,OAAOC,EAAE,cACPA,EAAE,QAAS,CACTA,EAAE,cAAe,CACfA,EAAE,QAASxC,IAAAA,WAAesC,MAAM,oEAChCE,EAAE,uBAAwB,CACxBC,KAAM,GACNC,MAAOT,KAAKX,QACZqB,QAAS,SAACvC,GAAM,OAAMmC,EAAKjB,QAAUlB,EAAEwC,OAAOF,KAAK,EACnDG,YAAa7C,IAAAA,WAAesC,MAAM,6EAItCE,EAAE,cACAM,IAAAA,UACE,CACEC,KAAM,SACNX,UAAW,yBACXR,QAASK,KAAKL,SAEhB5B,IAAAA,WAAesC,MAAM,uEAK/B,EAACT,EAEDmB,SAAA,SAAS5C,GAAU,IAAA6C,EAAA,KACjB7C,EAAE8C,iBAEFjB,KAAKL,SAAU,EAEf,IAAMuB,EAASlB,KAAKC,MAAMT,KAAK2B,KACzBC,EAAO,CACXN,KAAM,uBACNO,WAAY,CACVhC,QAASW,KAAKX,UAIZiC,EAAStB,KAAKC,MAAMC,WAAa,QAAU,OAC3CqB,GAAMvB,KAAKC,MAAMC,WAChBnC,IAAAA,MAAUyD,UAAU,UAAS,UAAUN,EAAM,gBAGpDnD,IAAAA,QAAY,CACVuD,OAAAA,EACAC,IAAAA,EACAE,KAAM,CAAEL,KAAAA,KAEPM,KAAK,WACJV,EAAKrB,SAAU,EACfqB,EAAKW,OACLX,EAAKf,MAAM2B,SACXrB,EAAEsB,QACJ,GAAE,MACK,WACLb,EAAKrB,SAAU,EACfY,EAAEsB,QACJ,EACJ,EAACpC,CAAA,CA7EqC,C,MAASqC,ICA5BC,EAAoB,SAAAC,GAAA,SAAAD,IAAA,QAAAnD,EAAAC,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAGZ,OAHYN,EAAAoD,EAAArE,KAAAwB,MAAA6C,EAAA,OAAA5C,OAAAJ,KAAA,MACvCW,SAAmB,EAAKf,EACxBsB,WAAuC,KAAItB,EAC3CqD,MAAuB,KAAIrD,CAAA,CAAAL,EAAAwD,EAAAC,GAAA,IAAApC,EAAAmC,EAAAtE,UAkG1B,OAlG0BmC,EAE3BC,OAAA,SAAOC,GACLkC,EAAAvE,UAAMoC,OAAMlC,KAAC,KAAAmC,GACbE,KAAKkC,MACP,EAACtC,EAEDsC,KAAA,WAAO,IAAA5B,EAAA,KACCd,EAAOQ,KAAKC,MAAMT,KACnBA,GAASA,EAAK2B,MAKnBnB,KAAKL,SAAU,EACfK,KAAKiC,MAAQ,KAGblE,IAAAA,QAAY,CACVuD,OAAQ,MACRC,IAAQxD,IAAAA,MAAUyD,UAAU,UAAS,UAAUhC,EAAK2B,KAAI,iBAEvDO,KAAK,SAACS,GAEDA,EAASf,OACXd,EAAKJ,WAAanC,IAAAA,MAAUqE,YAAYD,IAE1C7B,EAAKX,SAAU,EACfY,EAAEsB,QACJ,GAAE,MACK,SAACI,GACNI,QAAQJ,MAAM,0BAA2BA,GAEpB,MAAjBA,EAAMK,OACRhC,EAAKJ,WAAa,KAElBI,EAAK2B,MAAQ,6BAEf3B,EAAKX,SAAU,EACfY,EAAEsB,QACJ,IA9BA7B,KAAKiC,MAAQ,gBA+BjB,EAACrC,EAED2C,KAAA,WAAO,IAAAC,EAAAC,EAAAzB,EAAA,KACCxB,EAAOQ,KAAKC,MAAMT,KAClBkD,GAA0B,OAAhBF,EAAAzE,IAAAA,QAAYyB,WAAI,EAAhBgD,EAAkBrB,QAAS3B,EAAK2B,MAAQpD,IAAAA,MAAUyD,UAAU,wBAE5E,GAAIxB,KAAKL,QACP,OAAOY,EAAE,qBAAsBA,EAAEoC,MAGnC,GAAI3C,KAAKiC,MACP,OAAO1B,EAAE,qBACPA,EAAE,sBAAuBP,KAAKiC,QAIlC,IAAM5C,EAAyB,OAAlBoD,EAAGzC,KAAKE,iBAAU,EAAfuC,EAAiBpD,UAC3BuD,EAAS7E,IAAAA,MAAUyD,UAAkB,oDAAsD,WAEjG,OAAOjB,EAAE,qBAAsB,CAC7BmC,GAAWnC,EAAE,6BACXA,EAAEM,IAAQ,CACRV,UAAW,yBACX0C,KAAM,cACNC,QAAS,WAAF,OAAQ/E,IAAAA,MAAUgF,KAAKtD,EAAqB,CACjDD,KAAAA,EACAU,WAAYc,EAAKd,WACjB0B,OAAQ,WAAF,OAAQZ,EAAKkB,MAAM,GACzB,GACDnE,IAAAA,WAAesC,MAAM,oEAG1BE,EAAE,6BACAlB,EAAUW,KAAKgD,cAAc3D,EAASuD,GAAU5C,KAAKiD,YAAYP,KAGvE,EAAC9C,EAEDoD,cAAA,SAAc3D,EAAiBuD,GAC7B,GAAe,SAAXA,EACF,OAAOrC,EAAE2C,MAAM7D,GACV,GAAe,aAAXuD,EAAuB,CAEhC,IAAMO,EAAO9D,EACV+D,QAAQ,iBAAkB,uBAC1BA,QAAQ,aAAc,eACtBA,QAAQ,MAAO,QAClB,OAAO7C,EAAE2C,MAAMC,EACjB,CACE,OAAO5C,EAAE,MAAOlB,EAEpB,EAACO,EAEDqD,YAAA,SAAYP,GACV,OAAOnC,EAAE,2BACPxC,IAAAA,WAAesC,MAAM,4DAEzB,EAAC0B,CAAA,CArGsC,CAASsB,KCLlDtF,IAAAA,aAAiBC,IAAI,mCAAoC,WAEvDD,IAAAA,MAAUuF,OAAO,wBAA0B5E,EAG3CX,IAAAA,OAAW,mBAAqB,CAC9BwF,KAAM,0BACNC,UAAWC,MAIbC,EAAAA,EAAAA,QAAOD,IAAAA,UAAoB,WAAY,SAAUE,GAAO,IAAAnB,EAChDhD,EAAOQ,KAAKR,KAClB,GAAKA,EAAL,CAEA,IAAMoE,EAAU7F,IAAAA,MAAUyD,UAAU,qBAC9BkB,GAA0B,OAAhBF,EAAAzE,IAAAA,QAAYyB,WAAI,EAAhBgD,EAAkBrB,QAAS3B,EAAK2B,MAAQpD,IAAAA,MAAUyD,UAAU,wBAG5E,GAAIoC,GAAWlB,EAAS,CACtB,IAAMmB,EAAW9F,IAAAA,MAAUyD,UAAkB,+CAAiD,cACxFsC,EAAU/F,IAAAA,MAAUyD,UAAkB,8CAAgD,kBAE5FmC,EAAM3F,IACJ,aACA+F,IAAAA,UACE,CACEC,KAAMjG,IAAAA,MAAU,kBAAmB,CAAEkG,SAAUzE,EAAK0E,SACpDrB,KAAMiB,GAERD,GAEF,GAEJ,CArBiB,CAsBnB,IAGAM,EAAAA,EAAAA,UAASV,IAAAA,UAAoB,UAAW,SAAUW,GAEhD,IAAMC,EAAe9D,EAAE+D,MAAMhH,MAE7B,OAAI+G,GAAgBA,EAAaE,SAAS,eACjChE,EAAEwB,EAAsB,CAAEvC,KAAMQ,KAAKR,OAGvC4E,GACT,EACF,E","sources":["webpack://@huseyinfiliz/custom-profile-page/webpack/bootstrap","webpack://@huseyinfiliz/custom-profile-page/webpack/runtime/compat get default export","webpack://@huseyinfiliz/custom-profile-page/webpack/runtime/define property getters","webpack://@huseyinfiliz/custom-profile-page/webpack/runtime/hasOwnProperty shorthand","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/app']\"","webpack://@huseyinfiliz/custom-profile-page/./src/common/index.ts","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['forum/app']\"","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/extend']\"","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['forum/components/UserPage']\"","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@huseyinfiliz/custom-profile-page/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@huseyinfiliz/custom-profile-page/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/Model']\"","webpack://@huseyinfiliz/custom-profile-page/./src/forum/models/CustomProfilePage.ts","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/Component']\"","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/components/Button']\"","webpack://@huseyinfiliz/custom-profile-page/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@huseyinfiliz/custom-profile-page/./src/forum/components/EditCustomPageModal.ts","webpack://@huseyinfiliz/custom-profile-page/./src/forum/components/CustomProfilePageTab.ts","webpack://@huseyinfiliz/custom-profile-page/./src/forum/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/app'];","import app from 'flarum/common/app';\n\napp.initializers.add('huseyinfiliz/custom-profile-page', () => {\n  // Common initialization - currently empty\n  // Models are registered in forum/admin initializers\n});","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class CustomProfilePage extends Model {\n  content = Model.attribute<string>('content');\n  updatedAt = Model.attribute('updatedAt', Model.transformDate);\n  \n  user = Model.hasOne('user');\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","import app from 'flarum/forum/app';\nimport Modal, { IInternalModalAttrs } from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport User from 'flarum/common/models/User';\nimport CustomProfilePage from '../models/CustomProfilePage';\n\ninterface EditCustomPageModalAttrs extends IInternalModalAttrs {\n  user: User;\n  customPage: CustomProfilePage | null;\n  onSave: () => void;\n}\n\nexport default class EditCustomPageModal extends Modal<EditCustomPageModalAttrs> {\n  content: string = '';\n  loading: boolean = false;\n\n  oninit(vnode: any) {\n    super.oninit(vnode);\n    this.content = this.attrs.customPage?.content() || '';\n  }\n\n  className() {\n    return 'EditCustomPageModal Modal--large';\n  }\n\n  title() {\n    return app.translator.trans('huseyinfiliz-custom-profile-page.forum.edit_modal.title');\n  }\n\n  content() {\n    return m('.Modal-body', \n      m('.Form', [\n        m('.Form-group', [\n          m('label', app.translator.trans('huseyinfiliz-custom-profile-page.forum.edit_modal.content_label')),\n          m('textarea.FormControl', {\n            rows: 15,\n            value: this.content,\n            oninput: (e: any) => (this.content = e.target.value),\n            placeholder: app.translator.trans('huseyinfiliz-custom-profile-page.forum.edit_modal.content_placeholder')\n          })\n        ]),\n\n        m('.Form-group',\n          Button.component(\n            {\n              type: 'submit',\n              className: 'Button Button--primary',\n              loading: this.loading,\n            },\n            app.translator.trans('huseyinfiliz-custom-profile-page.forum.edit_modal.submit_button')\n          )\n        )\n      ])\n    );\n  }\n\n  onsubmit(e: Event) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    const userId = this.attrs.user.id()!;\n    const data = {\n      type: 'custom-profile-pages',\n      attributes: {\n        content: this.content,\n      },\n    };\n\n    const method = this.attrs.customPage ? 'PATCH' : 'POST';\n    const url = this.attrs.customPage\n      ? `${app.forum.attribute('apiUrl')}/users/${userId}/custom-page`\n      : `${app.forum.attribute('apiUrl')}/users/${userId}/custom-page`;\n\n    app.request({\n      method,\n      url,\n      body: { data },\n    })\n      .then(() => {\n        this.loading = false;\n        this.hide();\n        this.attrs.onSave();\n        m.redraw();\n      })\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n}\n","import app from 'flarum/forum/app';\nimport Component, { ComponentAttrs } from 'flarum/common/Component';\nimport User from 'flarum/common/models/User';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Button from 'flarum/common/components/Button';\nimport EditCustomPageModal from './EditCustomPageModal';\nimport CustomProfilePage from '../models/CustomProfilePage';\n\ninterface CustomProfilePageTabAttrs extends ComponentAttrs {\n  user: User;\n}\n\nexport default class CustomProfilePageTab extends Component<CustomProfilePageTabAttrs> {\n  loading: boolean = false;\n  customPage: CustomProfilePage | null = null;\n  error: string | null = null;\n\n  oninit(vnode: any) {\n    super.oninit(vnode);\n    this.load();\n  }\n\n  load() {\n    const user = this.attrs.user;\n    if (!user || !user.id()) {\n      this.error = 'User not found';\n      return;\n    }\n    \n    this.loading = true;\n    this.error = null;\n    \n    // API'den custom page'i getir - endpoint custom-page olmalı\n    app.request({\n      method: 'GET',\n      url: `${app.forum.attribute('apiUrl')}/users/${user.id()}/custom-page`,\n    })\n      .then((response: any) => {\n        // Response'u store'a ekle ve model'e çevir\n        if (response.data) {\n          this.customPage = app.store.pushPayload(response) as CustomProfilePage;\n        }\n        this.loading = false;\n        m.redraw();\n      })\n      .catch((error: any) => {\n        console.error('Custom page load error:', error);\n        // 404 hatası normaldir (henüz içerik oluşturulmamış)\n        if (error.status === 404) {\n          this.customPage = null;\n        } else {\n          this.error = 'Failed to load custom page';\n        }\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  view() {\n    const user = this.attrs.user;\n    const canEdit = app.session.user?.id() === user.id() && app.forum.attribute('canEditOwnCustomPage');\n\n    if (this.loading) {\n      return m('.CustomProfilePage', m(LoadingIndicator));\n    }\n\n    if (this.error) {\n      return m('.CustomProfilePage', \n        m('.Alert.Alert--error', this.error)\n      );\n    }\n\n    const content = this.customPage?.content();\n    const format = app.forum.attribute<string>('huseyinfiliz-custom-profile-page.content_format') || 'markdown';\n\n    return m('.CustomProfilePage', [\n      canEdit && m('.CustomProfilePage-actions',\n        m(Button, {\n          className: 'Button Button--primary',\n          icon: 'fas fa-edit',\n          onclick: () => app.modal.show(EditCustomPageModal, { \n            user, \n            customPage: this.customPage, \n            onSave: () => this.load() \n          })\n        }, app.translator.trans('huseyinfiliz-custom-profile-page.forum.profile_tab.edit_button'))\n      ),\n\n      m('.CustomProfilePage-content',\n        content ? this.renderContent(content, format) : this.renderEmpty(canEdit)\n      )\n    ]);\n  }\n\n  renderContent(content: string, format: string) {\n    if (format === 'html') {\n      return m.trust(content);\n    } else if (format === 'markdown') {\n      // Basit markdown rendering - gerçek uygulamada marked.js veya benzeri kullanılabilir\n      const html = content\n        .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n        .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n        .replace(/\\n/g, '<br>');\n      return m.trust(html);\n    } else {\n      return m('pre', content);\n    }\n  }\n\n  renderEmpty(canEdit: boolean) {\n    return m('.CustomProfilePage-empty',\n      app.translator.trans('huseyinfiliz-custom-profile-page.forum.profile_tab.empty')\n    );\n  }\n}","import app from 'flarum/forum/app';\nimport { extend, override } from 'flarum/common/extend';\nimport UserPage from 'flarum/forum/components/UserPage';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport CustomProfilePage from './models/CustomProfilePage';\nimport CustomProfilePageTab from './components/CustomProfilePageTab';\n\napp.initializers.add('huseyinfiliz/custom-profile-page', () => {\n  // Model'i kaydet\n  app.store.models['custom-profile-pages'] = CustomProfilePage;\n\n  // Custom route ekle - UserPage'i kullan\n  app.routes['user.customPage'] = {\n    path: '/u/:username/customPage',\n    component: UserPage,\n  };\n\n  // User sayfasına yeni tab ekle\n  extend(UserPage.prototype, 'navItems', function (items) {\n    const user = this.user;\n    if (!user) return;\n    \n    const canView = app.forum.attribute('canViewCustomPage');\n    const canEdit = app.session.user?.id() === user.id() && app.forum.attribute('canEditOwnCustomPage');\n\n    // Eğer görüntüleme yetkisi varsa veya kendi sayfası ise tab'ı göster\n    if (canView || canEdit) {\n      const tabTitle = app.forum.attribute<string>('huseyinfiliz-custom-profile-page.tab_title') || 'Custom Page';\n      const tabIcon = app.forum.attribute<string>('huseyinfiliz-custom-profile-page.tab_icon') || 'fas fa-file-alt';\n\n      items.add(\n        'customPage',\n        LinkButton.component(\n          {\n            href: app.route('user.customPage', { username: user.slug() }),\n            icon: tabIcon,\n          },\n          tabTitle\n        ),\n        10\n      );\n    }\n  });\n\n  // UserPage'in content metodunu override et\n  override(UserPage.prototype, 'content', function (original) {\n    // URL'den route'u kontrol et\n    const currentRoute = m.route.get();\n    \n    if (currentRoute && currentRoute.includes('/customPage')) {\n      return m(CustomProfilePageTab, { user: this.user });\n    }\n    \n    return original();\n  });\n});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","app","add","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","CustomProfilePage","_Model","_this","_len","arguments","length","args","Array","_key","apply","concat","content","Model","updatedAt","user","EditCustomPageModal","_Modal","loading","_proto","oninit","vnode","_this$attrs$customPag","this","attrs","customPage","className","title","trans","_this2","m","rows","value","oninput","target","placeholder","Button","type","onsubmit","_this3","preventDefault","userId","id","data","attributes","method","url","attribute","body","then","hide","onSave","redraw","Modal","CustomProfilePageTab","_Component","error","load","response","pushPayload","console","status","view","_app$session$user","_this$customPage","canEdit","LoadingIndicator","format","icon","onclick","show","renderContent","renderEmpty","trust","html","replace","Component","models","path","component","UserPage","extend","items","canView","tabTitle","tabIcon","LinkButton","href","username","slug","override","original","currentRoute","route","includes"],"sourceRoot":""}